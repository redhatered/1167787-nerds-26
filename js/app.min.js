function initMap(e){new e.Map("map",{center:[59.938631,30.323055],zoom:17,controls:[]}).geoObjects.add(new e.Placemark([59.938631,30.323055],{},{iconColor:"#0095b6"}))}document.addEventListener("DOMContentLoaded",function(){var l=document.querySelectorAll(".slider-controls-item"),s=document.querySelectorAll(".slider-item"),e=document.querySelector(".btn-contacts"),t=document.querySelector(".modal"),a=t.querySelector(".modal__close"),o=t.querySelector("form"),c=t.querySelector("[name=name]"),r=t.querySelector("[name=email]"),n=t.querySelector("[name=text]"),i=!0,d="",u="",m="write-us__input--error",v="modal--active",f="modal--error",L="slider-controls-item--active",y="slider-item--active";try{d=localStorage.getItem("name"),u=localStorage.getItem("email")}catch(e){i=!1}function p(){t.classList.remove(v),c.classList.remove(m),r.classList.remove(m),n.classList.remove(m),t.classList.remove(f),c.value="",r.value="",n.value=""}Array.prototype.slice.call(l).forEach(function(t,a){t.addEventListener("click",function(e){e.preventDefault(),Array.prototype.slice.call(l).forEach(function(e){e.classList.remove(L)}),Array.prototype.slice.call(s).forEach(function(e){e.classList.remove(y)}),t.classList.add(L),s[a].classList.add(y)})}),e.addEventListener("click",function(e){e.preventDefault(),t.classList.add(v),d&&u?(n.focus(),c.value=d,r.value=u):c.focus()}),a.addEventListener("click",function(e){e.preventDefault(),p()}),o.addEventListener("submit",function(e){c.classList.remove(m),r.classList.remove(m),n.classList.remove(m),c.value&&r.value&&n.value?i&&(localStorage.setItem("name",c.value),localStorage.setItem("email",r.value)):(e.preventDefault(),c.value||c.classList.add(m),r.value||r.classList.add(m),n.value||n.classList.add(m),t.classList.remove(f),t.offsetWidth=t.offsetWidth,t.classList.add(f))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains(v)&&p())})});
